{% extends "base.html" %}
{% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h4 mb-0"><i class="bi bi-columns-gap"></i> Saved Comparisons</h1>
    <a class="btn btn-outline-secondary btn-sm" href="{% url 'compare_page' %}">Go to Compare</a>
  </div>

  {% if messages %}{% for m in messages %}
    <div class="alert alert-{{ m.tags }} mb-2" role="alert">{{ m }}</div>
  {% endfor %}{% endif %}

  {% if comparisons %}
    <div class="list-group shadow-sm rounded overflow-hidden">
      {% for c in comparisons %}
        <a class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
           href="{% url 'marketplace:compare_saved_detail' c.id %}">
          <div>
            <div class="fw-semibold">{{ c.name }}</div>
            <div class="small text-muted">Created {{ c.created_at|date:"Y-m-d H:i" }}</div>
          </div>
          <span class="badge text-bg-light">{{ c.items.count }} car{{ c.items.count|pluralize }}</span>
        </a>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-info">You havenâ€™t saved any comparisons yet.</div>
  {% endif %}
</div>
{% endblock %}
